{
  "resourceType": "Bundle",
  "id": "test-bundle-with-directories",
  "meta": {
    "lastUpdated": "2025-08-14T10:00:00.000+00:00"
  },
  "type": "history",
  "total": 9,
  "link": [
    {
      "relation": "self",
      "url": "http://test.example.org/fhir/test/_history"
    }
  ],
  "entry": [
    {
      "fullUrl": "http://test.example.org/fhir/Organization/org-1",
      "resource": {
        "resourceType": "Organization",
        "id": "org-1",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:29:31.987+00:00"
        },
        "identifier": [
          {
            "use": "official",
            "system": "http://fhir.nl/fhir/NamingSystem/ura",
            "value": "111"
          }
        ],
        "active": true,
        "name": "Organization 1",
        "endpoint": [
          {
            "reference": "Endpoint/dir1-endpoint"
          }
        ]
      },
      "request": {
        "method": "POST",
        "url": "Organization/org-1"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Organization/org-2",
      "resource": {
        "resourceType": "Organization",
        "id": "org-2",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:29:31.987+00:00"
        },
        "identifier": [
          {
            "use": "official",
            "system": "http://fhir.nl/fhir/NamingSystem/ura",
            "value": "222"
          }
        ],
        "active": true,
        "name": "Organization 2"
      },
      "request": {
        "method": "POST",
        "url": "Organization/org-2"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Organization/org-3",
      "resource": {
        "resourceType": "Organization",
        "id": "org-3",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:30:31.987+00:00"
        },
        "identifier": [
          {
            "use": "official",
            "system": "http://fhir.nl/fhir/NamingSystem/ura",
            "value": "333"
          }
        ],
        "active": true,
        "name": "Organization 3",
        "endpoint": [
          {
            "reference": "Endpoint/invalid-endpoint-address"
          }
        ]
      },
      "request": {
        "method": "POST",
        "url": "Organization/org-3"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Organization/org-4",
      "resource": {
        "resourceType": "Organization",
        "id": "org-4",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:31:31.987+00:00"
        },
        "identifier": [
          {
            "use": "official",
            "system": "http://fhir.nl/fhir/NamingSystem/ura",
            "value": "444"
          }
        ],
        "active": true,
        "name": "Organization 4"
      },
      "request": {
        "method": "POST",
        "url": "Organization/org-4"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/dir1-endpoint",
      "resource": {
        "resourceType": "Endpoint",
        "id": "dir1-endpoint",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:29:31.987+00:00",
          "profile": [
            "https://profiles.ihe.net/ITI/mCSD/StructureDefinition/IHE.mCSD.Endpoint"
          ]
        },
        "status": "active",
        "connectionType": {
          "system": "http://fhir.nl/fhir/NamingSystem/endpoint-connection-type",
          "code": "mcsd-directory"
        },
        "name": "Directory 1",
        "managingOrganization": {
          "reference": "Organization/org-1"
        },
        "period": {
          "start": "2025-01-01"
        },
        "address": "{{ORG1_DIR_BASEURL}}"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/dir1-endpoint"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/invalid-endpoint-address",
      "resource": {
        "resourceType": "Endpoint",
        "id": "invalid-endpoint-address",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:30:31.987+00:00",
          "profile": [
            "https://profiles.ihe.net/ITI/mCSD/StructureDefinition/IHE.mCSD.Endpoint"
          ]
        },
        "status": "active",
        "connectionType": {
          "system": "http://fhir.nl/fhir/NamingSystem/endpoint-connection-type",
          "code": "mcsd-directory"
        },
        "name": "Directory 2",
        "managingOrganization": {
          "reference": "Organization/org-3"
        },
        "period": {
          "start": "2025-01-01"
        },
        "address": "file:///etc/passwd"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/invalid-endpoint-address"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/invalid-endpoint-resource-body",
      "resource": {
        "resourceType": "Something-else"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/invalid-endpoint-address"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/non-dir-endpoint",
      "resource": {
        "resourceType": "Endpoint",
        "id": "non-dir-endpoint",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:32:31.987+00:00"
        },
        "status": "active",
        "connectionType": {
          "system": "http://fhir.nl/fhir/NamingSystem/endpoint-connection-type",
          "code": "something-else"
        },
        "name": "Non-Directory Endpoint",
        "managingOrganization": {
          "reference": "Organization/org-1"
        },
        "address": "https://not-a-directory.example.org"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/non-dir-endpoint"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/dir1-org2-assoc",
      "resource": {
        "resourceType": "Endpoint",
        "id": "dir1-org2-assoc",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:33:31.987+00:00",
          "profile": [
            "https://profiles.ihe.net/ITI/mCSD/StructureDefinition/IHE.mCSD.Endpoint"
          ]
        },
        "status": "active",
        "connectionType": {
          "system": "http://fhir.nl/fhir/NamingSystem/endpoint-connection-type",
          "code": "mcsd-directory"
        },
        "name": "Directory 1 - Org 2 Association",
        "managingOrganization": {
          "reference": "Organization/org-2"
        },
        "period": {
          "start": "2025-01-01"
        },
        "address": "https://directory1.example.org"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/dir1-org2-assoc"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    },
    {
      "fullUrl": "http://test.example.org/fhir/Endpoint/dir2-org4-assoc",
      "resource": {
        "resourceType": "Endpoint",
        "id": "dir2-org4-assoc",
        "meta": {
          "versionId": "1",
          "lastUpdated": "2025-08-01T14:34:31.987+00:00",
          "profile": [
            "https://profiles.ihe.net/ITI/mCSD/StructureDefinition/IHE.mCSD.Endpoint"
          ]
        },
        "status": "active",
        "connectionType": {
          "system": "http://fhir.nl/fhir/NamingSystem/endpoint-connection-type",
          "code": "mcsd-directory"
        },
        "name": "Directory 2 - Org 4 Association",
        "managingOrganization": {
          "reference": "Organization/org-4"
        },
        "period": {
          "start": "2025-01-01"
        },
        "address": "https://directory2.example.org"
      },
      "request": {
        "method": "POST",
        "url": "Endpoint/dir2-org4-assoc"
      },
      "response": {
        "status": "201 Created",
        "etag": "W/\"1\""
      }
    }
  ]
}

