<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1474px" preserveAspectRatio="none" style="width:924px;height:1474px;background:#FFFFFF;" version="1.1" viewBox="0 0 924 1474" width="924px" zoomAndPan="magnify"><title>Dezi login and user identity in data exchanges</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="367.541" x="274.2705" y="27.9951">Dezi login and user identity in data exchanges</text><rect fill="#DDDDDD" height="1425.5703" style="stroke:#181818;stroke-width:0.5;" width="640.3247" x="16" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66.8979" x="302.7134" y="55.3638">Local XIS</text><g><title>EHR</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="212.9922"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="481.9922" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="501.5859"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="224.7969" style="stroke:#181818;stroke-width:1;" width="10" x="263.3945" y="651.3828"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="300.5938" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="1070.9766"/></g><g><title>OAuth Client</title><rect fill="#FFFFFF" height="104.5313" style="stroke:#181818;stroke-width:1;" width="10" x="595.9185" y="1139.375"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="325.6563"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="413.0547"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="545.8516"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="769.7813"/></g><g><title>Remote XIS</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="859.2305" y="1298.1719"/></g><rect fill="none" height="625.9219" style="stroke:#000000;stroke-width:1.5;" width="816.3789" x="10" y="272.2578"/><rect fill="none" height="286.0625" style="stroke:#000000;stroke-width:1.5;" width="584.5347" x="231.8442" y="605.1172"/><rect fill="none" height="168.9297" style="stroke:#000000;stroke-width:1.5;" width="556.5317" x="231.8442" y="1085.9766"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="34.9551" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="38" x2="38" y1="138.7266" y2="1389.5703"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="99.4297" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="102.9102" x2="102.9102" y1="138.7266" y2="1389.5703"/></g><g><title>EHR</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="259.3945" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="262.8442" x2="262.8442" y1="138.7266" y2="1389.5703"/></g><g><title>Knooppunt</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="490.4155" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="494.3188" x2="494.3188" y1="138.7266" y2="1389.5703"/></g><g><title>OAuth Client</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="596.9185" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="600.5122" x2="600.5122" y1="138.7266" y2="1389.5703"/></g><g><title>Dezi</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="780.063" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="783.7471" x2="783.7471" y1="138.7266" y2="1389.5703"/></g><g><title>Remote XIS</title><rect fill="#000000" fill-opacity="0.00000" height="1250.8438" width="8" x="860.2305" y="138.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="863.3789" x2="863.3789" y1="138.7266" y2="1389.5703"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="135.4248">User</text><ellipse cx="38.9551" cy="70.9297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,78.9297 L38.9551,105.9297 M25.9551,86.9297 L51.9551,86.9297 M38.9551,105.9297 L25.9551,120.9297 M38.9551,105.9297 L51.9551,120.9297" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1401.5654">User</text><ellipse cx="38.9551" cy="1413.3672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1421.3672 L38.9551,1448.3672 M25.9551,1429.3672 L51.9551,1429.3672 M38.9551,1448.3672 L25.9551,1463.3672 M38.9551,1448.3672 L51.9551,1463.3672" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Browser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="67.9102" y="107.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="74.9102" y="127.4248">Browser</text></g><g class="participant participant-tail" data-participant="Browser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="67.9102" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="74.9102" y="1408.5654">Browser</text></g><g class="participant participant-head" data-participant="EHR"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43.1006" x="241.8442" y="107.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.1006" x="248.8442" y="127.4248">EHR</text></g><g class="participant participant-tail" data-participant="EHR"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43.1006" x="241.8442" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.1006" x="248.8442" y="1408.5654">EHR</text></g><g class="participant participant-head" data-participant="Knooppunt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.1934" x="449.3188" y="107.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.1934" x="456.3188" y="127.4248">Knooppunt</text></g><g class="participant participant-tail" data-participant="Knooppunt"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.1934" x="449.3188" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.1934" x="456.3188" y="1408.5654">Knooppunt</text></g><g class="participant participant-head" data-participant="AuthClient"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.8125" x="549.5122" y="91.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.8125" x="556.5122" y="111.1279">OAuth Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.041" x="558.8979" y="127.4248">(Nuts Node)</text></g><g class="participant participant-tail" data-participant="AuthClient"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.8125" x="549.5122" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.8125" x="556.5122" y="1408.5654">OAuth Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.041" x="558.8979" y="1424.8623">(Nuts Node)</text></g><g class="participant participant-head" data-participant="Dezi"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.6318" x="761.7471" y="107.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.6318" x="768.7471" y="127.4248">Dezi</text></g><g class="participant participant-tail" data-participant="Dezi"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.6318" x="761.7471" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.6318" x="768.7471" y="1408.5654">Dezi</text></g><g class="participant participant-head" data-participant="RemoteXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="816.3789" y="107.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="823.3789" y="127.4248">Remote XIS</text></g><g class="participant participant-tail" data-participant="RemoteXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="816.3789" y="1388.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="823.3789" y="1408.5654">Remote XIS</text></g><g><title>EHR</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="212.9922"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="481.9922" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="501.5859"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="224.7969" style="stroke:#181818;stroke-width:1;" width="10" x="263.3945" y="651.3828"/></g><g><title>EHR</title><rect fill="#FFFFFF" height="300.5938" style="stroke:#181818;stroke-width:1;" width="10" x="258.3945" y="1070.9766"/></g><g><title>OAuth Client</title><rect fill="#FFFFFF" height="104.5313" style="stroke:#181818;stroke-width:1;" width="10" x="595.9185" y="1139.375"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="325.6563"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="413.0547"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="545.8516"/></g><g><title>Dezi</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="779.063" y="769.7813"/></g><g><title>Remote XIS</title><rect fill="#FFFFFF" height="44.2656" style="stroke:#181818;stroke-width:1;" width="10" x="859.2305" y="1298.1719"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="917.082" x="0" y="169.293"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="917.082" y1="169.293" y2="169.293"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="917.082" y1="172.293" y2="172.293"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="91.0859" x="412.998" y="158.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72.5601" x="418.998" y="174.7935">Dezi login</text><g class="message" data-participant-1="User" data-participant-2="EHR"><polygon fill="#181818" points="246.3945,208.9922,256.3945,212.9922,246.3945,216.9922,250.3945,212.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="252.3945" y1="212.9922" y2="212.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.4033" x="45.9551" y="207.9263">Login/Interact</text></g><g class="message" data-participant-1="EHR" data-participant-2="Browser"><polygon fill="#181818" points="114.4297,253.2578,104.4297,257.2578,114.4297,261.2578,110.4297,257.2578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="108.4297" x2="262.3945" y1="257.2578" y2="257.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9648" x="120.4297" y="237.0591">Make Auth Request,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.7939" x="120.4297" y="252.1919">redirect</text></g><path d="M10,272.2578 L292.0977,272.2578 L292.0977,279.3906 L282.0977,289.3906 L10,289.3906 L10,272.2578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="625.9219" style="stroke:#000000;stroke-width:1.5;" width="816.3789" x="10" y="272.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237.0977" x="25" y="285.3247">Dezi OIDC Authorized Code Flow</text><g class="message" data-participant-1="Browser" data-participant-2="Dezi"><polygon fill="#181818" points="767.063,321.6563,777.063,325.6563,767.063,329.6563,771.063,325.6563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="103.4297" x2="773.063" y1="325.6563" y2="325.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.8794" x="110.4297" y="305.4575">OIDC Authorization Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.9478" x="110.4297" y="320.5903">(scope=openid profile)</text></g><g class="message" data-participant-1="Dezi" data-participant-2="Browser"><polygon fill="#181818" points="114.4297,350.7891,104.4297,354.7891,114.4297,358.7891,110.4297,354.7891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="108.4297" x2="783.063" y1="354.7891" y2="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.0264" x="120.4297" y="349.7231">Request authentication</text></g><g class="message" data-participant-1="User" data-participant-2="Browser"><polygon fill="#181818" points="91.4297,379.9219,101.4297,383.9219,91.4297,387.9219,95.4297,383.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="97.4297" y1="383.9219" y2="383.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.2993" x="45.9551" y="378.856">Login</text></g><g class="message" data-participant-1="Browser" data-participant-2="Dezi"><polygon fill="#181818" points="767.063,409.0547,777.063,413.0547,767.063,417.0547,771.063,413.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="103.4297" x2="773.063" y1="413.0547" y2="413.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7241" x="110.4297" y="407.9888">User auth (e.g. DigiD)</text></g><g class="message" data-participant-1="Dezi" data-participant-2="Browser"><polygon fill="#181818" points="114.4297,453.3203,104.4297,457.3203,114.4297,461.3203,110.4297,457.3203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="108.4297" x2="783.063" y1="457.3203" y2="457.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.9067" x="120.4297" y="437.1216">OIDC Auth Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1689" x="120.4297" y="452.2544">(auth code)</text></g><g class="message" data-participant-1="Browser" data-participant-2="EHR"><polygon fill="#181818" points="246.3945,497.5859,256.3945,501.5859,246.3945,505.5859,250.3945,501.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="103.4297" x2="252.3945" y1="501.5859" y2="501.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.4819" x="110.4297" y="481.3872">Redirect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1689" x="110.4297" y="496.52">(auth code)</text></g><g class="message" data-participant-1="EHR" data-participant-2="Dezi"><polygon fill="#181818" points="767.063,541.8516,777.063,545.8516,767.063,549.8516,771.063,545.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="268.3945" x2="773.063" y1="545.8516" y2="545.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.4688" x="275.3945" y="525.6528">OIDC Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.1689" x="275.3945" y="540.7856">(auth code)</text></g><g class="message" data-participant-1="Dezi" data-participant-2="EHR"><polygon fill="#181818" points="279.3945,586.1172,269.3945,590.1172,279.3945,594.1172,275.3945,590.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="273.3945" x2="783.063" y1="590.1172" y2="590.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.0981" x="285.3945" y="569.9185">OIDC Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.4893" x="285.3945" y="585.0513">(id_token(encrypted))</text></g><path d="M231.8442,605.1172 L418.5049,605.1172 L418.5049,612.25 L408.5049,622.25 L231.8442,622.25 L231.8442,605.1172" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="286.0625" style="stroke:#000000;stroke-width:1.5;" width="584.5347" x="231.8442" y="605.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="141.6606" x="246.8442" y="618.1841">Dezi business rules</text><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;" x1="268.3945" x2="315.3945" y1="638.3828" y2="638.3828"/><line style="stroke:#181818;stroke-width:1;" x1="315.3945" x2="315.3945" y1="638.3828" y2="651.3828"/><line style="stroke:#181818;stroke-width:1;" x1="274.3945" x2="315.3945" y1="651.3828" y2="651.3828"/><polygon fill="#181818" points="284.3945,647.3828,274.3945,651.3828,284.3945,655.3828,280.3945,651.3828" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185.3071" x="280.3945" y="633.3169">Process id_token(encrypted)</text></g><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;" x1="273.3945" x2="315.3945" y1="685.5156" y2="685.5156"/><line style="stroke:#181818;stroke-width:1;" x1="315.3945" x2="315.3945" y1="685.5156" y2="698.5156"/><line style="stroke:#181818;stroke-width:1;" x1="274.3945" x2="315.3945" y1="698.5156" y2="698.5156"/><polygon fill="#181818" points="284.3945,694.5156,274.3945,698.5156,284.3945,702.5156,280.3945,698.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.021" x="280.3945" y="680.4497">Decrypt id_token(encrypted)</text></g><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;" x1="273.3945" x2="315.3945" y1="727.6484" y2="727.6484"/><line style="stroke:#181818;stroke-width:1;" x1="315.3945" x2="315.3945" y1="727.6484" y2="740.6484"/><line style="stroke:#181818;stroke-width:1;" x1="274.3945" x2="315.3945" y1="740.6484" y2="740.6484"/><polygon fill="#181818" points="284.3945,736.6484,274.3945,740.6484,284.3945,744.6484,280.3945,740.6484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.6152" x="280.3945" y="722.5825">Validate id_token claims</text></g><g class="message" data-participant-1="EHR" data-participant-2="Dezi"><polygon fill="#181818" points="767.063,765.7813,777.063,769.7813,767.063,773.7813,771.063,769.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="273.3945" x2="773.063" y1="769.7813" y2="769.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.3848" x="280.3945" y="764.7153">Get revocation status</text></g><g class="message" data-participant-1="Dezi" data-participant-2="EHR"><polygon fill="#181818" points="284.3945,794.9141,274.3945,798.9141,284.3945,802.9141,280.3945,798.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="278.3945" x2="783.063" y1="798.9141" y2="798.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7715" x="290.3945" y="793.8481">Revocation status</text></g><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;" x1="273.3945" x2="315.3945" y1="828.0469" y2="828.0469"/><line style="stroke:#181818;stroke-width:1;" x1="315.3945" x2="315.3945" y1="828.0469" y2="841.0469"/><line style="stroke:#181818;stroke-width:1;" x1="274.3945" x2="315.3945" y1="841.0469" y2="841.0469"/><polygon fill="#181818" points="284.3945,837.0469,274.3945,841.0469,284.3945,845.0469,280.3945,841.0469" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.2061" x="280.3945" y="822.981">Check revocation status</text></g><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="273.3945" x2="315.3945" y1="875.1797" y2="875.1797"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="315.3945" x2="315.3945" y1="875.1797" y2="888.1797"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="268.3945" x2="315.3945" y1="888.1797" y2="888.1797"/><polygon fill="#181818" points="278.3945,884.1797,268.3945,888.1797,278.3945,892.1797,274.3945,888.1797" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.6191" x="280.3945" y="870.1138">OK/NOK</text></g><g class="message" data-participant-1="EHR" data-participant-2="EHR"><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="268.3945" x2="310.3945" y1="941.4453" y2="941.4453"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="310.3945" x2="310.3945" y1="941.4453" y2="954.4453"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="269.3945" x2="310.3945" y1="954.4453" y2="954.4453"/><polygon fill="#181818" points="279.3945,950.4453,269.3945,954.4453,279.3945,958.4453,275.3945,954.4453" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.521" x="275.3945" y="921.2466">Store id_token or,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.293" x="275.3945" y="936.3794">create user session</text></g><g class="message" data-participant-1="EHR" data-participant-2="Browser"><polygon fill="#181818" points="114.4297,979.5781,104.4297,983.5781,114.4297,987.5781,110.4297,983.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="108.4297" x2="262.3945" y1="983.5781" y2="983.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.0659" x="120.4297" y="978.5122">User logged in</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="917.082" x="0" y="1012.1445"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="917.082" y1="1012.1445" y2="1012.1445"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="917.082" y1="1015.1445" y2="1015.1445"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="254.9316" x="331.0752" y="1001.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="236.4058" x="337.0752" y="1017.645">Fetching data with user identity</text><g class="message" data-participant-1="User" data-participant-2="EHR"><polygon fill="#181818" points="246.3945,1066.9766,256.3945,1070.9766,246.3945,1074.9766,250.3945,1070.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="38.9551" x2="252.3945" y1="1070.9766" y2="1070.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8042" x="45.9551" y="1050.7778">Request data</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3145" x="45.9551" y="1065.9106">from remote source</text></g><path d="M231.8442,1085.9766 L401.9375,1085.9766 L401.9375,1093.1094 L391.9375,1103.1094 L231.8442,1103.1094 L231.8442,1085.9766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="168.9297" style="stroke:#000000;stroke-width:1.5;" width="556.5317" x="231.8442" y="1085.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.0933" x="246.8442" y="1099.0435">Get access token</text><g class="message" data-participant-1="EHR" data-participant-2="AuthClient"><polygon fill="#181818" points="583.9185,1135.375,593.9185,1139.375,583.9185,1143.375,587.9185,1139.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="268.3945" x2="589.9185" y1="1139.375" y2="1139.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3389" x="275.3945" y="1119.1763">Request token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.0063" x="275.3945" y="1134.3091">(Dezi id_token(decrypted)</text></g><g class="message" data-participant-1="AuthClient" data-participant-2="AuthClient"><line style="stroke:#181818;stroke-width:1;" x1="605.9185" x2="647.9185" y1="1183.6406" y2="1183.6406"/><line style="stroke:#181818;stroke-width:1;" x1="647.9185" x2="647.9185" y1="1183.6406" y2="1196.6406"/><line style="stroke:#181818;stroke-width:1;" x1="606.9185" x2="647.9185" y1="1196.6406" y2="1196.6406"/><polygon fill="#181818" points="616.9185,1192.6406,606.9185,1196.6406,616.9185,1200.6406,612.9185,1196.6406" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.4814" x="612.9185" y="1163.4419">Create</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.1445" x="612.9185" y="1178.5747">DeziIDTokenCredential</text></g><g class="message" data-participant-1="AuthClient" data-participant-2="EHR"><polygon fill="#181818" points="279.3945,1239.9063,269.3945,1243.9063,279.3945,1247.9063,275.3945,1243.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="273.3945" x2="599.9185" y1="1243.9063" y2="1243.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.812" x="285.3945" y="1223.7075">Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.8975" x="285.3945" y="1238.8403">(access token)</text></g><path d="M610,1209.6406 L610,1249.6406 L772,1249.6406 L772,1219.6406 L762,1209.6406 L610,1209.6406" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M762,1209.6406 L762,1219.6406 L772,1219.6406 L762,1209.6406" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.4575" x="616" y="1226.7075">Token is requested at</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1729" x="616" y="1241.8403">remote OAuth server</text><g class="message" data-participant-1="EHR" data-participant-2="RemoteXIS"><polygon fill="#181818" points="847.2305,1294.1719,857.2305,1298.1719,847.2305,1302.1719,851.2305,1298.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="268.3945" x2="853.2305" y1="1298.1719" y2="1298.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.8745" x="275.3945" y="1277.9731">Data request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.8975" x="275.3945" y="1293.106">(access token)</text></g><g class="message" data-participant-1="RemoteXIS" data-participant-2="EHR"><polygon fill="#181818" points="279.3945,1338.4375,269.3945,1342.4375,279.3945,1346.4375,275.3945,1342.4375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="273.3945" x2="863.2305" y1="1342.4375" y2="1342.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.5039" x="285.3945" y="1322.2388">Data response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.9102" x="285.3945" y="1337.3716">(e.g. FHIR)</text></g><g class="message" data-participant-1="EHR" data-participant-2="User"><polygon fill="#181818" points="49.9551,1367.5703,39.9551,1371.5703,49.9551,1375.5703,45.9551,1371.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="43.9551" x2="262.3945" y1="1371.5703" y2="1371.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.5039" x="55.9551" y="1366.5044">Data response</text></g><!--SRC=[ZLNRRjim37ttLn1vQe6rVI-G0Lkoha6wTaZNOWy11bLc7I6kv4boRry_Yhv9iGiiG81OuJayXo9fhto9iCHt1QKfb0QXSwWTMb0vQg_y6z1XBhm0V9KxeGjqMVPWNc5sPQGeuVVgTfO1VOJqni8TGVcn4jOhgIgXFNorvcNg_DlbPdIsriPKLQtzw9yljTyjIaMgG3YOtOHdQ0ws-kYwzWwkJOx7imp90qdCOdImc1niyCbu9FdCrZmrRhBvFAx8V9u5Lt3oEGY6SxWAnsShxT6IwOo-wbaGEDW94HJOEgRW7sAFB9qI_gtH-KzRRJ5N5WcQOm8khAch9lNDQhbWcB7g7NDOa3EuACrBrb5J5euyJsE5LqPtkQWkJfeAv_JLAeVAcaTLul6WcSl2F2U9x9O01D66Ff3C6mjcP5-P0SdLcL39aO4EZl2qE8MbAjJoFvJqxaYJgunsIAwOHuRR7acACZVNjMchdSAcRYskvo-pnxYEKr3E5zgqbzraJ0XwpIh_uyFP4MfftogF-V5OVTG23xLJ6fq3MvSqT25FgxF9yjCQ6VwUuEq6Sd0uGY-HWpz49y7tebHveEgYGPP2FIMYsk9zHmyMdqtJCE2yyBLBzNnKjiqaxB128t6B7Shz1pavSBYNzTdrpVgGDPGdR0mkVVGhnTxITely6qjpB2q60bwNZguYJ4Y76XgO6vzMIK5ZhFJXp8TbSu5UxfGkcZtxegZJqXKyMa7TU0R0LZzQyqG5u0tcJ6qbPXDx9ToCaDmox26kPBHR1tAEeiRbQ-hx9CVfBXie-3nYFEHVSDcsEl2kbZmdTCHUHJa2zvv70nMRQSJeK06hYftlunNDJ-E7oYzyMBvSf-RrGKLzRbzCqRr4LgWTicuz36yC6fzmKtRO3ecKdgX7P0DsCDHoz7vuBLvShZR9MXWukjQwQ_egWH-qrJy0]--></g></svg>